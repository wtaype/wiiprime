const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hora-Cww_niCt.js","assets/vendor-B2AETYxa.js","assets/firebase-oQ0U6Yya.js","assets/asia-BB-zeWT6.js","assets/europa-D1lHBvM2.js","assets/america-LonjcwZQ.js","assets/oceania-Ba5-vLIR.js","assets/africa-BHZuYUlA.js"])))=>i.map(i=>d[i]);
import{r as J,g as H}from"./vendor-B2AETYxa.js";import{i as W,g as X,a as K,b as L,d as P,c as O,q as U,e as B,w as j,f as Q,u as aa,s as ea,h as ta,j as oa,k as ia,l as ra,o as sa,m as na}from"./firebase-oQ0U6Yya.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))n(l);new MutationObserver(l=>{for(const r of l)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(l){const r={};return l.integrity&&(r.integrity=l.integrity),l.referrerPolicy&&(r.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?r.credentials="include":l.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(l){if(l.ep)return;l.ep=!0;const r=i(l);fetch(l.href,r)}})();const ca="modulepreload",la=function(a){return"/wiiprime/"+a},q={},D=function(t,i,n){let l=Promise.resolve();if(i&&i.length>0){let m=function(o){return Promise.all(o.map(d=>Promise.resolve(d).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),s=c?.nonce||c?.getAttribute("nonce");l=m(i.map(o=>{if(o=la(o),o in q)return;q[o]=!0;const d=o.endsWith(".css"),u=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${o}"]${u}`))return;const p=document.createElement("link");if(p.rel=d?"stylesheet":ca,d||(p.as="script"),p.crossOrigin="",p.href=o,s&&p.setAttribute("nonce",s),document.head.appendChild(p),d)return new Promise((g,f)=>{p.addEventListener("load",g),p.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${o}`)))})}))}function r(c){const s=new Event("vite:preloadError",{cancelable:!0});if(s.payload=c,window.dispatchEvent(s),!s.defaultPrevented)throw c}return l.then(c=>{for(const s of c||[])s.status==="rejected"&&r(s.reason);return t().catch(r)})};var da=J();const e=H(da);(()=>{const a=[["Cielo","#0EBEFF"],["Dulce","#FF5C69"],["Paz","#29C72E"],["Mora","#7000FF"],["Futuro","#21273B"]],t=n=>{const[l,r]=e(n).data("tema").split("|");e("html").attr("data-theme",l),(e('meta[name="theme-color"]')[0]||e('<meta name="theme-color">').appendTo("head")[0]).content=r,I("wiTema",`${l}|${r}`,720),e(".mtha").removeClass("mtha"),e(n).addClass("mtha")},i=()=>{e(".witemas").html(a.map(([r,c])=>`<div class="tema" data-tema="${r}|${c}" style="background:${c}"></div>`).join(""));const n=T("wiTema"),l=e(`[data-tema="${n}"]`)[0]||e(".tema").first()[0];l&&t(l),e(document).off("click.witema").on("click.witema",".tema",r=>t(r.currentTarget))};return e(".witemas").length?i():new MutationObserver(n=>n.some(({addedNodes:l})=>[...l].some(r=>r.querySelector?.(".witemas")))&&(i(),!0)).observe(document.body,{childList:1,subtree:1}),{set:t}})();function Ea(a){return!a||a.length!==2?null:`https://cdn.jsdelivr.net/gh/lipis/flag-icons/flags/4x3/${a.toLowerCase()}.svg`}const Y={principales:[{ciudad:"Lima",pais:"Per√∫",codigo:"PE",zona:"America/Lima",capital:!0},{ciudad:"Nueva York",pais:"Estados Unidos",codigo:"US",zona:"America/New_York",capital:!1},{ciudad:"Tokio",pais:"Jap√≥n",codigo:"JP",zona:"Asia/Tokyo",capital:!0},{ciudad:"Londres",pais:"Reino Unido",codigo:"GB",zona:"Europe/London",capital:!0}],asia:[{ciudad:"Tokio",pais:"Jap√≥n",codigo:"JP",zona:"Asia/Tokyo",capital:!0},{ciudad:"Se√∫l",pais:"Corea del Sur",codigo:"KR",zona:"Asia/Seoul",capital:!0},{ciudad:"Pek√≠n",pais:"China",codigo:"CN",zona:"Asia/Shanghai",capital:!0},{ciudad:"Bangkok",pais:"Tailandia",codigo:"TH",zona:"Asia/Bangkok",capital:!0},{ciudad:"Singapur",pais:"Singapur",codigo:"SG",zona:"Asia/Singapore",capital:!0},{ciudad:"Dub√°i",pais:"Emiratos √Årabes",codigo:"AE",zona:"Asia/Dubai",capital:!1},{ciudad:"Mumbai",pais:"India",codigo:"IN",zona:"Asia/Kolkata",capital:!1},{ciudad:"Manila",pais:"Filipinas",codigo:"PH",zona:"Asia/Manila",capital:!0},{ciudad:"Yakarta",pais:"Indonesia",codigo:"ID",zona:"Asia/Jakarta",capital:!0}],europa:[{ciudad:"Londres",pais:"Reino Unido",codigo:"GB",zona:"Europe/London",capital:!0},{ciudad:"Par√≠s",pais:"Francia",codigo:"FR",zona:"Europe/Paris",capital:!0},{ciudad:"Berl√≠n",pais:"Alemania",codigo:"DE",zona:"Europe/Berlin",capital:!0},{ciudad:"Madrid",pais:"Espa√±a",codigo:"ES",zona:"Europe/Madrid",capital:!0},{ciudad:"Roma",pais:"Italia",codigo:"IT",zona:"Europe/Rome",capital:!0},{ciudad:"√Åmsterdam",pais:"Pa√≠ses Bajos",codigo:"NL",zona:"Europe/Amsterdam",capital:!0},{ciudad:"Estocolmo",pais:"Suecia",codigo:"SE",zona:"Europe/Stockholm",capital:!0},{ciudad:"Mosc√∫",pais:"Rusia",codigo:"RU",zona:"Europe/Moscow",capital:!0},{ciudad:"Atenas",pais:"Grecia",codigo:"GR",zona:"Europe/Athens",capital:!0}],america:[{ciudad:"Nueva York",pais:"Estados Unidos",codigo:"US",zona:"America/New_York",capital:!1},{ciudad:"Los √Ångeles",pais:"Estados Unidos",codigo:"US",zona:"America/Los_Angeles",capital:!1},{ciudad:"Ciudad de M√©xico",pais:"M√©xico",codigo:"MX",zona:"America/Mexico_City",capital:!0},{ciudad:"S√£o Paulo",pais:"Brasil",codigo:"BR",zona:"America/Sao_Paulo",capital:!1},{ciudad:"Buenos Aires",pais:"Argentina",codigo:"AR",zona:"America/Argentina/Buenos_Aires",capital:!0},{ciudad:"Lima",pais:"Per√∫",codigo:"PE",zona:"America/Lima",capital:!0},{ciudad:"Bogot√°",pais:"Colombia",codigo:"CO",zona:"America/Bogota",capital:!0},{ciudad:"Toronto",pais:"Canad√°",codigo:"CA",zona:"America/Toronto",capital:!1},{ciudad:"Santiago",pais:"Chile",codigo:"CL",zona:"America/Santiago",capital:!0}],oceania:[{ciudad:"S√≠dney",pais:"Australia",codigo:"AU",zona:"Australia/Sydney",capital:!1},{ciudad:"Melbourne",pais:"Australia",codigo:"AU",zona:"Australia/Melbourne",capital:!1},{ciudad:"Auckland",pais:"Nueva Zelanda",codigo:"NZ",zona:"Pacific/Auckland",capital:!1},{ciudad:"Brisbane",pais:"Australia",codigo:"AU",zona:"Australia/Brisbane",capital:!1},{ciudad:"Perth",pais:"Australia",codigo:"AU",zona:"Australia/Perth",capital:!1},{ciudad:"Wellington",pais:"Nueva Zelanda",codigo:"NZ",zona:"Pacific/Auckland",capital:!0},{ciudad:"Canberra",pais:"Australia",codigo:"AU",zona:"Australia/Sydney",capital:!0},{ciudad:"Suva",pais:"Fiyi",codigo:"FJ",zona:"Pacific/Fiji",capital:!0},{ciudad:"Port Moresby",pais:"Pap√∫a Nueva Guinea",codigo:"PG",zona:"Pacific/Port_Moresby",capital:!0}],africa:[{ciudad:"El Cairo",pais:"Egipto",codigo:"EG",zona:"Africa/Cairo",capital:!0},{ciudad:"Lagos",pais:"Nigeria",codigo:"NG",zona:"Africa/Lagos",capital:!1},{ciudad:"Ciudad del Cabo",pais:"Sud√°frica",codigo:"ZA",zona:"Africa/Johannesburg",capital:!1},{ciudad:"Nairobi",pais:"Kenia",codigo:"KE",zona:"Africa/Nairobi",capital:!0},{ciudad:"Casablanca",pais:"Marruecos",codigo:"MA",zona:"Africa/Casablanca",capital:!1},{ciudad:"Johannesburgo",pais:"Sud√°frica",codigo:"ZA",zona:"Africa/Johannesburg",capital:!1},{ciudad:"Argel",pais:"Argelia",codigo:"DZ",zona:"Africa/Algiers",capital:!0},{ciudad:"Ad√≠s Abeba",pais:"Etiop√≠a",codigo:"ET",zona:"Africa/Addis_Ababa",capital:!0},{ciudad:"Dakar",pais:"Senegal",codigo:"SN",zona:"Africa/Dakar",capital:!0}]},Ca=a=>{try{const t=new Date,i=new Intl.DateTimeFormat("es-ES",{timeZone:a,hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),n=new Intl.DateTimeFormat("es-ES",{timeZone:a,weekday:"long",year:"numeric",month:"long",day:"numeric"}),c=new Intl.DateTimeFormat("es-ES",{timeZone:a,timeZoneName:"shortOffset"}).formatToParts(t).find(u=>u.type==="timeZoneName")?.value||"GMT+00:00",s=new Date(t.getFullYear(),0,1),m=Math.floor((t-s)/(1440*60*1e3)),o=Math.ceil((m+s.getDay()+1)/7),d=ua(t).estacion;return{hora:i.format(t),fecha:n.format(t),gmt:c,semana:o,diaSemana:t.getDay(),diaA√±o:m,estacion:d,timestamp:Math.floor(t.getTime()/1e3),dst:!1}}catch(t){return console.error("Error al calcular hora:",t),null}},ka=(a,t=null)=>{const i=a.toLowerCase().trim();return(t?Y[t]:Object.values(Y).flat()).filter(l=>l.ciudad.toLowerCase().includes(i)||l.pais.toLowerCase().includes(i))},Da=a=>{const t=typeof a=="string"?parseInt(a.split(":")[0]):a;return t>=6&&t<19},S=(a,t=!0,i="")=>{const n=e(a);if(t){const l=i||n.text().trim();n.data("txt",l).prop("disabled",!0).html(`${l} <i class="fas fa-spinner fa-spin"></i>`)}else n.prop("disabled",!1).text(n.data("txt")||i||"Continuar")},$a=()=>{const a=new Date().getHours();return a>=5&&a<12?"Buenos d√≠as, ":a>=12&&a<18?"Buenas tardes, ":"Buenas noches, "};function Z(a,t="error",i=3e3){const n={success:"fa-check-circle",error:"fa-times-circle",warning:"fa-exclamation-triangle",info:"fa-info-circle"},l={success:"#2E7D32",error:"#D32F2F",warning:"#F9A825",info:"#0288D1"};e("#notificationsContainer").length||e("body").append('<div id="notificationsContainer" style="position:fixed;top:1rem;right:1rem;z-index:9999;display:flex;flex-direction:column;gap:.5rem;"></div>');const r=e(`
    <div class="notification" style="background:#fff;border-left:4px solid ${l[t]};box-shadow:0 4px 12px rgba(0,0,0,.1);border-radius:8px;padding:1rem;display:flex;align-items:center;gap:.5rem;opacity:0;transform:translateX(20px);transition:all .3s ease;">
      <i class="fas ${n[t]}" style="color:${l[t]};"></i>
      <span style="flex:1">${a}</span>
      <button style="background:none;border:none;font-size:1.2rem;cursor:pointer;">&times;</button>
    </div>
  `);e("#notificationsContainer").append(r),requestAnimationFrame(()=>r.css({opacity:1,transform:"translateX(0)"})),r.find("button").on("click",()=>{r.css({opacity:0,transform:"translateX(20px)"}),setTimeout(()=>r.remove(),300)}),setTimeout(()=>{r.css({opacity:0,transform:"translateX(20px)"}),setTimeout(()=>r.remove(),300)},i)}const M=(a,t="success")=>{e(".alert-box").remove();const i={error:{bg:"#FFE8E6",txt:"#D32F2F",border:"#FFCDD2",icon:"fa-circle-exclamation"},success:{bg:"#E8F5E9",txt:"#2E7D32",border:"#C8E6C9",icon:"fa-circle-check"}},{bg:n,txt:l,border:r,icon:c}=i[t]||i.error,s=e(`
        <div class="alert-box" style="
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            padding: 15px 20px;
            border-radius: 8px;
            background: ${n};
            color: ${l};
            border-left: 4px solid ${r};
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            gap: 10px;
            min-width: 300px;
            max-width: 90%;
            
        ">
            <i class="fas ${c}"></i>
            <span>${a}</span>
        </div>
    `).appendTo("body").hide().fadeIn(300);setTimeout(()=>s.fadeOut(300,()=>s.remove()),3e3)};function I(a,t,i){try{localStorage.setItem(a,JSON.stringify({value:t,expiry:Date.now()+i*36e5,type:typeof t,isArray:Array.isArray(t)}))}catch(n){console.error("Error savels",n)}}function T(a){try{const t=localStorage.getItem(a);if(!t)return null;const i=JSON.parse(t);return!i||Date.now()>i.expiry?(localStorage.removeItem(a),null):i.value}catch(t){return console.error("Error getls:",t),N(a),null}}function N(...a){a.forEach(t=>{t&&typeof t=="string"&&localStorage.removeItem(t)})}function k(a,t,i="top",n=1800){const l={success:"--success",error:"--error",warning:"--warning",info:"--info"},r=l[i]?i:null,c=r?"top":i;if(e("#witip-styles").length||e('<style id="witip-styles">.witip{position:fixed;background:var(--mco);color:var(--txa);z-index:10000;padding:8px 12px;border-radius:4px;font-size:.85rem;max-width:250px;box-shadow:0 2px 8px rgba(0,0,0,.2);opacity:0;transition:opacity .2s;pointer-events:none}.witip::after{content:"";position:absolute;border:6px solid transparent}.witip.show{opacity:1}.witip.top::after{top:100%;left:50%;margin-left:-6px;border-top-color:inherit}.witip.bottom::after{bottom:100%;left:50%;margin-left:-6px;border-bottom-color:inherit}.witip.left::after{left:100%;top:50%;margin-top:-6px;border-left-color:inherit}.witip.right::after{right:100%;top:50%;margin-top:-6px;border-right-color:inherit}.witip.success{background:var(--success);color:#fff}.witip.error{background:var(--error);color:#fff}.witip.warning{background:var(--warning);color:#000}.witip.info{background:var(--info);color:#fff}</style>').appendTo("head"),typeof a=="string"&&(a.includes(",")||a.match(/^[.#a-z]/i)))return e(a).each((_,R)=>k(R,t,i,n)),e(a);const s=e(a);if(!s.length)return;clearTimeout(s.data("witip-timer")),e(".witip").remove();const m=s.attr("id")||s.attr("id",`wtip-${Date.now()}-${Math.floor(Math.random()*1e3)}`).attr("id"),o=e("<div>",{class:`witip ${c} ${r||""}`,"data-for":m,html:t,css:{"border-color":r?`var(${l[r]})`:"var(--mco)"}});r&&o.css("background-color",`var(${l[r]})`),e("body").append(o);const{left:d,top:u,right:p,bottom:g,width:f,height:v}=s[0].getBoundingClientRect(),h=o.outerWidth(),y=o.outerHeight(),E={top:{x:d+f/2-h/2,y:u-y-8},bottom:{x:d+f/2-h/2,y:g+8},left:{x:d-h-8,y:u+v/2-y/2},right:{x:p+8,y:u+v/2-y/2}};let{x:w,y:x}=E[c];return w=Math.max(8,Math.min(w,window.innerWidth-h-8)),x=Math.max(8,Math.min(x,window.innerHeight-y-8)),o.css({left:w,top:x}),s.data("witip-timer",setTimeout(()=>{o.addClass("show"),n>0&&setTimeout(()=>{o.removeClass("show"),setTimeout(()=>o.remove(),200)},n)},10)),s}const C={paisesSur:["PE","AR","CL","UY","PY","BO","EC","CO","VE","GY","SR","BR","AU","NZ","ZA"],estaciones:{n:["Invierno","Primavera","Verano","Oto√±o"],s:["Verano","Oto√±o","Invierno","Primavera"]},fases:["Luna nueva","Luna creciente","Cuarto creciente","Luna gibosa creciente","Luna llena","Luna gibosa menguante","Cuarto menguante","Luna menguante"],unidades:{a√±os:"a√±o|a√±os",meses:"mes|meses",semanas:"semana|semanas",d√≠as:"d√≠a|d√≠as",horas:"hora|horas",minutos:"minuto|minutos",segundos:"segundo|segundos"}},ua=(a=new Date)=>{const t=r=>{const c=new Date(r),[s,m,o]=[c.getFullYear(),c.getMonth(),c.getDate()],d=Math.ceil((c-new Date(s,0,1))/864e5),u=new Date(s,1,29).getDate()===29?366:365,p=T("wiip"),g=p&&(C.paisesSur.includes(p.country)||p.lat<0);return{fecha:c,a√±o:s,mes:m,dia:o,hora:c.getHours(),minuto:c.getMinutes(),segundo:c.getSeconds(),mesReal:m+1,diaDelA√±o:d,diasEnA√±o:u,diasEnMes:new Date(s,m+1,0).getDate(),semana:Math.ceil(d/7),trimestre:Math.ceil((m+1)/3),bisiesto:s%4===0&&(s%100!==0||s%400===0),faseLunar:C.fases[Math.floor((c-new Date(2e3,0,6))/864e5%29.53/3.69)],estacion:(g?C.estaciones.s:C.estaciones.n)[Math.floor((m*30.44+o%365)/91.25)]}},i=(r,c,s="a√±os meses d√≠as")=>{const[m,o]=[new Date(r),new Date(c)],[d,u]=o>m?[m,o]:[o,m];let p=u.getFullYear()-d.getFullYear(),g=u.getMonth()-d.getMonth(),f=u.getDate()-d.getDate();f<0&&(g--,f+=new Date(u.getFullYear(),u.getMonth(),0).getDate()),g<0&&(p--,g+=12);const v=Math.floor((u-d)/864e5),h={a√±os:p,meses:g,semanas:Math.floor(v/7),d√≠as:f,horas:Math.floor((u-d)/36e5),minutos:Math.floor((u-d)/6e4),segundos:Math.floor((u-d)/1e3)};if(s==="completo")return h;const E=(s.includes(",")?s.split(",").map(w=>w.trim()):s.split(" ")).map(w=>{const x=h[w.toLowerCase()];if(x>0){const[_,R]=C.unidades[w.toLowerCase()]?.split("|")||[w,w+"s"];return`${x} ${x===1?_:R}`}}).filter(Boolean);return E.length?E.join(" con "):"Mismo momento"},n=r=>{const c=t(r),s=c.fecha;return{...c,iso:s.toISOString().split("T")[0],isoCompleto:s.toISOString(),local:s.toLocaleString("es-ES"),utc:s.toISOString().replace("T"," ").slice(0,19),timestamp:Math.floor(s.getTime()/1e3),milisegundos:s.getTime(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,offsetUTC:s.getTimezoneOffset()/-60,gmt:`GMT${s.getTimezoneOffset()<=0?"+":"-"}${Math.abs(Math.floor(s.getTimezoneOffset()/60)).toString().padStart(2,"0")}:${Math.abs(s.getTimezoneOffset()%60).toString().padStart(2,"0")}`,duracionDia:`${12+Math.floor(Math.sin((c.diaDelA√±o-80)*Math.PI/182.5)*2)}h ${32+Math.floor(Math.cos((c.diaDelA√±o-80)*Math.PI/182.5)*28)}m`,fechaCompleta:s.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),horaCompleta:s.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),fechaCorta:s.toLocaleDateString("es-ES"),horaCorta:s.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),diaA√±o:`${c.diaDelA√±o}/${c.diasEnA√±o}`,diferencia:(m,o="a√±os meses d√≠as")=>i(s,m,o),edad:m=>i(m,s,"a√±os"),esHoy:()=>s.toDateString()===new Date().toDateString(),esAyer:()=>s.toDateString()===new Date(Date.now()-864e5).toDateString(),esMa√±ana:()=>s.toDateString()===new Date(Date.now()+864e5).toDateString(),esIgual:m=>s.getTime()===new Date(m).getTime(),esMayorIgual:m=>s.getTime()>=new Date(m).getTime(),esMenorIgual:m=>s.getTime()<=new Date(m).getTime(),formato:m=>new Map([["dd/mm/yyyy",`${c.dia.toString().padStart(2,"0")}/${c.mesReal.toString().padStart(2,"0")}/${c.a√±o}`],["mm/dd/yyyy",`${c.mesReal.toString().padStart(2,"0")}/${c.dia.toString().padStart(2,"0")}/${c.a√±o}`],["yyyy-mm-dd",`${c.a√±o}-${c.mesReal.toString().padStart(2,"0")}-${c.dia.toString().padStart(2,"0")}`],["texto",s.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"})]]).get(m)||s.toLocaleDateString("es-ES")}},l=r=>!isNaN(new Date(r).getTime())&&r.includes("-");if(typeof a=="string"){if(l(a))return n(a);const r=t(new Date),c=r.fecha,s=T("wiip");return{...Object.fromEntries(["hora","minuto","segundo","dia","a√±o","diaDelA√±o","diasEnA√±o","diasEnMes","semana","trimestre","bisiesto"].map(o=>[o,r[o]])),mes:r.mesReal,year:r.a√±o,luna:r.faseLunar,estacion:r.estacion,faseLunar:r.faseLunar,iso:c.toISOString().split("T")[0],local:c.toLocaleString("es-ES"),utc:c.toISOString().replace("T"," ").slice(0,19),timestamp:Math.floor(c.getTime()/1e3),milisegundos:c.getTime(),timezone:Intl.DateTimeFormat().resolvedOptions().timeZone,gmt:`GMT${c.getTimezoneOffset()<=0?"+":"-"}${Math.abs(Math.floor(c.getTimezoneOffset()/60)).toString().padStart(2,"0")}:${Math.abs(c.getTimezoneOffset()%60).toString().padStart(2,"0")}`,duracionDia:`${12+Math.floor(Math.sin((r.diaDelA√±o-80)*Math.PI/182.5)*2)}h ${32+Math.floor(Math.cos((r.diaDelA√±o-80)*Math.PI/182.5)*28)}m`,diaA√±o:`${r.diaDelA√±o}/${r.diasEnA√±o}`,fechaCompleta:c.toLocaleDateString("es-ES",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),horaCompleta:c.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),fechaCorta:c.toLocaleDateString("es-ES"),horaCorta:c.toLocaleTimeString("es-ES",{hour:"2-digit",minute:"2-digit"}),pais:()=>s?.country||"XX",ciudad:()=>s?.city||"Desconocida",hemisferio:()=>s&&(C.paisesSur.includes(s.country)||s.lat<0)?"Sur":"Norte"}[a]??null}return n(a)},$={clean(a){const t="/wiiprime/";return a.startsWith(t)&&(a=a.slice(t.length-1)),a==="/"||a===""?"/hora":a},update(a,t=""){const i=a==="/hora"?"/":a;window.history.pushState({path:a},t,i),t&&(document.title=t)},params(){return Object.fromEntries(new URLSearchParams(location.search))},setParams(a){const t=new URL(location);Object.entries(a).forEach(([i,n])=>t.searchParams.set(i,n)),history.pushState({},"",t)}},pa={async fade(a,t,i=150){const n=e(a);await n.animate({opacity:0},i).promise(),n.html(t),await n.animate({opacity:1},i).promise()},async slide(a,t=null){const i=e(a);return t===null&&(t=!i.is(":visible")),t?i.slideDown().promise():i.slideUp().promise()},shake(a){e(a).addClass("shake"),setTimeout(()=>e(a).removeClass("shake"),500)},pulse(a){e(a).addClass("pulse"),setTimeout(()=>e(a).removeClass("pulse"),500)}};let V="WiiPrime",ma=2024,ga="@wilder.taype",fa="https://wtaype.github.io/",ha="v10";function va(){const a=new Date;return`
  <footer class="foo wb txc psa">
    <span>Creado con <i class="fas fa-heart"></i> by <a class="ftx lkme" href="${fa}" target="_blank">${ga}</a></span>
    <span>${ma} - <span class="wty">${a.getFullYear()}</span></span>
    <span class="abw"> | ${V} ${ha} | actualizado:
    <span class="wtu">${a.toLocaleString()}</span></span>
  </footer>
  `}e("body").append(va());e("style").append(".foo{width:100%;text-align:center;padding-block:1.5vh 1vh;background:var(--wb);border-radius:1vh 1vh 0 0;}.foo *{font-size:var(--fz_s2);margin-inline:.3vh;}.foo a{color:var(--bg2);}.foo i{color:var(--mco);}.abwc{background:var(--bg);top:0;width:99%;height:100%;padding:2vh 2vw;overflow:scroll;line-height:1.80;}.abwok{background:var(--mco);color:var(--txa);}");class wa{constructor(){this.ruta={},this.currentRoute=null,this.contentContainer="#wiMainContent",this.isNavigating=!1}register(t,i){this.ruta[t]=i}async navigate(t,i=!0){if(this.isNavigating)return;this.isNavigating=!0;const n=$.clean(t);if(!this.ruta[n]){console.warn(`Ruta no encontrada: ${n}`),Z("P√°gina no encontrada","error",2e3),this.isNavigating=!1;return}try{this.updateActiveNav(n);const l=this.ruta[n],r=typeof l=="function"?await l():l,c=await r.render();await pa.fade(this.contentContainer,c);const s=n.replace("/","").replace(/^(\w)/,m=>m.toUpperCase())||"Hora";document.title=`${s} - ${V}`,r.init&&r.init(),i&&$.update(n),this.currentRoute=n}catch(l){console.error("Error al navegar:",l),Z("Error al cargar la p√°gina","error",2e3)}finally{this.isNavigating=!1}}updateActiveNav(t){const i=t.replace("/","")||"hora";e(".winav_item").removeClass("active"),e(`.winav_item[data-page="${i}"]`).addClass("active")}async prefetch(t){const i=$.clean(t);if(!(!this.ruta[i]||typeof this.ruta[i]!="function")){console.log(`‚ö° Prefetching: ${i}`);try{const n=await this.ruta[i]();this.ruta[i]=n}catch(n){console.warn(`Error prefetching ${i}`,n)}}}init(){e(document).on("click",".winav_item",i=>{i.preventDefault();const n=e(i.currentTarget).data("page"),l=n==="hora"?"/":`/${n}`;this.navigate(l)}),e(document).on("mouseenter",".winav_item",i=>{const n=e(i.currentTarget).data("page"),l=n==="hora"?"/":`/${n}`;this.prefetch(l)}),window.addEventListener("popstate",i=>{const n=i.state?.path||$.clean(window.location.pathname);this.navigate(n,!1)});const t=$.clean(window.location.pathname);this.navigate(t,!1)}}const b=new wa,ba={apiKey:"AIzaSyAw1I8I84eHjOk69UoAaM74k3OUAJMlET8",authDomain:"wiiprime.firebaseapp.com",projectId:"wiiprime",storageBucket:"wiiprime.firebasestorage.app",messagingSenderId:"560186875326",appId:"1:560186875326:web:1e8d7104fc7e53878b2def"},G=W(ba),z=X(G),A=K(G),ya=a=>{const t=e(`#${a}`);if(!t.length)return console.warn(`Modal #${a} no existe`);t.addClass("active"),e("body").addClass("modal-open"),setTimeout(()=>{t.find("input,select,textarea,button").filter(":visible:first").trigger("focus")},20)},xa=a=>{e(`#${a}`).removeClass("active"),e(".modal.active").length||e("body").removeClass("modal-open")},F=()=>{e(".modal").removeClass("active"),e("body").removeClass("modal-open")};window.abrirModal=ya;window.cerrarModal=xa;window.cerrarTodos=F;(()=>{const a=".modal{display:none;position:fixed;inset:0;background:rgba(0,0,0,.45);z-index:100;justify-content:center;align-items:center;backdrop-filter:saturate(120%) blur(2px)}.modal.active{display:flex}@keyframes mfade{from{opacity:0}to{opacity:1}}.modal{animation:mfade .25s ease}body.modal-open{overflow:hidden}.modal-content{background:var(--F);border-radius:1vh;box-shadow:var(--bsh);width:92%;max-width:600px;max-height:90vh;overflow:auto;animation:mpop .22s ease}@keyframes mpop{from{transform:translateY(10px) scale(.98);opacity:.6}to{transform:translateY(0) scale(1);opacity:1}}.authModals .modal-content{max-width:430px;padding:0;border:0;position:relative}.authModals .modal-header{border:0;padding:12px;position:absolute;right:0;z-index:10}.authModals .close-modal,.close-modal{background:0 0;border:0;color:var(--mco);font-size:1.4rem;cursor:pointer;transition:transform .15s,opacity .15s;text-shadow:0 1px 2px rgba(0,0,0,.15)}.authModals .close-modal:hover,.close-modal:hover{transform:scale(1.08);opacity:.95}.auth-form{padding:0 36px 32px;display:flex;flex-direction:column;align-items:center}.auth-logo{width:76px;height:76px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:34px 0 8px;box-shadow:0 6px 18px var(--bxs)}.auth-logo img{width:100%;height:auto}.auth-title{font:700 1.6rem var(--ff_P);color:var(--mco);margin:4px 0 18px;text-align:center}.auth-title span{color:#ffe800}.auth-text{color:var(--tx);font-size:.92rem;margin:12px 0 4px;align-self:flex-start}#loginForm,#registroForm,#recuperarForm{width:100%;display:flex;flex-direction:column;gap:12px}.form-group{width:100%;position:relative}.input-icon{position:relative;display:flex;align-items:center}.input-icon i{position:absolute;left:14px;color:var(--mco);opacity:.75;transition:.25s}.input-icon .togglePass{left:auto;right:12px;cursor:pointer;color:#a8a8a8}.input-icon input{width:100%;padding:13px 38px 13px 42px;border-radius:10px;border:1px solid var(--bdr);background:var(--wb);color:var(--tx);transition:border-color .2s,box-shadow .2s}.input-icon input:focus{border-color:var(--mco);box-shadow:0 0 0 3px var(--bxs);outline:0}.input-icon input::placeholder{color:var(--txe);opacity:.7}.form-check{display:flex;align-items:center;gap:8px;margin:6px 0}.form-check input[type=checkbox]{width:16px;height:16px;accent-color:var(--mco)}.btn-auth{width:100%;padding:13px 14px;background:var(--mco);color:var(--txa);border:0;border-radius:10px;font-weight:600;cursor:pointer;box-shadow:0 4px 12px var(--bxs);transition:transform .15s,box-shadow .15s,background .15s}.btn-auth:hover{background:var(--hva);transform:translateY(-1px)}.btn-auth.loading{opacity:.85;cursor:not-allowed;pointer-events:none}.btn-auth.loading i{margin-right:6px}.inactivo{opacity:.75}.auth-links{width:100%;display:flex;justify-content:space-between;margin-top:12px;flex-wrap:wrap}.auth-links span{color:var(--mco);cursor:pointer;padding:6px 0;font-size:.95rem}.auth-links span:hover{color:var(--hv);text-decoration:underline}#registroModal #registroForm{display:grid;grid-template-columns:1fr 1fr;gap:12px}#registroModal .modal-content{max-width:568px}@media (max-width:576px){.auth-form{padding:0 20px 24px}.auth-title{font-size:1.4rem}.auth-logo{width:70px;height:70px;margin-top:26px}#registroModal #registroForm{display:flex;flex-direction:column}}#recuperarModal *:not(i),#registroModal *:not(i),#loginModal *:not(i){font-family:'Poppins',segoe ui}.btn-auth i{color:var(--F)}",t=e(".wiModalCss");t.length?t.text(a):e("head").append(`<style class="wiModalCss">${a}</style>`),e(document).off(".wimodal").on("click.wimodal",".close-modal",F).on("click.wimodal",".modal",i=>{e(i.target).is(".modal")&&F()}).on("keydown.wimodal",i=>{i.key==="Escape"&&F()})})();function Sa(){const a=`
<div id="loginModal" class="modal authModals">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close-modal">&times;</button>
    </div>
    <div class="modal-body auth-form">
      <div class="auth-logo">
        <img src="./smile.png" alt="Smile Beneficios">
      </div>
      <h2 class="auth-title">Login</h2>
      
      <form id="loginForm" class="dfd">
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-envelope"></i>
            <input type="email" id="email" placeholder="Email o usuario" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-lock"></i>
            <input type="password" id="password" placeholder="Contrase√±a" required>
            <i class="fas fa-eye togglePass"></i>
          </div>
        </div>
        <div class="form-check">
          <input type="checkbox" id="rememberMe">
          <label for="rememberMe">Recordar mis datos</label>
        </div>
        <button type="button" id="Login" class="inactivo btn-auth">Iniciar Sesi√≥n</button>
      </form>
      
      <div class="auth-links">
        <span class="olvidastePass">¬øOlvidaste tu contrase√±a?</span>
        <span class="crearCuenta">Crear cuenta</span>
      </div>
    </div>
  </div>
</div>`,t=`
<div id="registroModal" class="modal authModals">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close-modal">&times;</button>
    </div>
    <div class="modal-body auth-form">
      <div class="auth-logo">
        <img src="./smile.png" alt="Smile Beneficios">
      </div>
      <h2 class="auth-title">Crear Cuenta</h2>
      
      <form id="registroForm" class="dfd">
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-envelope"></i>
            <input type="email" id="regEmail" placeholder="Correo electr√≥nico" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-user"></i>
            <input type="text" id="regUsuario" placeholder="Crear usuario" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-user-tie"></i>
            <input type="text" id="regNombre" placeholder="Nombre" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-user-tie"></i>
            <input type="text" id="regApellidos" placeholder="Apellidos" required>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-lock"></i>
            <input type="password" id="regPassword" placeholder="Contrase√±a" required>
            <i class="fas fa-eye togglePass"></i>
          </div>
        </div>
        <div class="form-group">
          <div class="input-icon"> <i class="fas fa-lock"></i>
            <input type="password" id="regPassword1" placeholder="Confirmar Contrase√±a" required>
            <i class="fas fa-eye togglePass"></i>
          </div>
        </div>
        <button type="button" id="Registrar" class="inactivo btn-auth">Registrarme</button>
      </form>
      
      <div class="auth-links">
        <span class="conCuenta">Ya tengo cuenta</span>
      </div>
    </div>
  </div>
</div>`,i=`
<div id="recuperarModal" class="modal authModals">
  <div class="modal-content">
    <div class="modal-header">
      <button class="close-modal">&times;</button>
    </div>
    <div class="modal-body auth-form">
      <div class="auth-logo">
        <img src="./smile.png" alt="Smile Beneficios">
      </div>
      <h2 class="auth-title">Restablecer Contrase√±a</h2>
      <form id="recuperarForm" class="dfd">
        <p class="auth-text">Ingresa tu Correo o usuario:</p>
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-envelope"></i>
            <input type="email" id="recEmail" placeholder="Correo electr√≥nico" required>
          </div>
        </div>
        <p class="auth-text">Valida tu fecha de nacimiento:</p>
        <div class="form-group">
          <div class="input-icon">
            <i class="fas fa-cake-candles"></i>
            <input type="date" id="recFechaNacimiento" placeholder="Fecha Nacimiento" class="datepicker" required>
          </div>
        </div>
        <button type="button" id="Recuperar" class="inactivo btn-auth">Restablecer Contrase√±a</button>
      </form>
      <div class="auth-links">
        <span class="volverLogin"><i class="fas fa-arrow-left"></i> Volver a Inicio</span>
      </div>
    </div>
  </div>
</div>`;e(function(){let n="smiles",l="wiAuthIn",r="usuario";e(document).on("click",".login",()=>abrirModal("loginModal")),e(document).on("click",".registrar",()=>abrirModal("registroModal")),e(".crearCuenta").click(()=>{abrirModal("registroModal"),cerrarModal("loginModal")}),e(".conCuenta").click(()=>{abrirModal("loginModal"),cerrarModal("registroModal")}),e(".olvidastePass").click(()=>{abrirModal("recuperarModal"),cerrarModal("loginModal")}),e(".volverLogin").click(()=>{abrirModal("loginModal"),cerrarModal("recuperarModal")}),e(".togglePass").click(function(){const o=e(this).siblings("input"),d=o.attr("type")==="password";o.attr("type",d?"text":"password"),e(this).toggleClass("fa-eye fa-eye-slash")}),e('.miauth input:not([type="checkbox"])').on("click",function(){k(this,e(this).attr("placeholder"))}),e("#regUsuario, #regEmail, #email, #recEmail").on("input",function(){e(this).val(e(this).val().toLowerCase().trim())}),[["#password","#Login"],["#regPassword1","#Registrar"],["#recEmail","#Recuperar"]].forEach(([o,d])=>{e(o).on("input keyup",u=>{e(d).removeClass("inactivo"),u.key==="Enter"&&(e(d).click(),e(d).addClass("inactivo"))})});const c={regEmail:[o=>o.toLowerCase(),o=>/^[\w-]+(\.[\w-]+)*@([\w-]+\.)+[a-zA-Z]{2,7}$/.test(o)||"Correo inv√°lido"],regUsuario:[o=>o.toLowerCase().replace(/[^a-z0-9_]/g,""),o=>o.length>=4||"Usuario 4-20 caracteres"],regNombre:[o=>o.trim(),o=>o.length>0||"Ingrese nombre"],regApellidos:[o=>o.trim(),o=>o.length>0||"Ingrese apellidos"],regPassword:[o=>o,o=>o.length>=6||"M√≠nimo 6 caracteres"],regPassword1:[o=>o,o=>o===e("#regPassword").val()||"Contrase√±as no coinciden"]};e.each(c,function(o,[d,u]){e(`#${o}`).on("blur",function(){const p=d(e(this).val());e(this).val(p);const g=u(p);g!==!0&&k(this,g,"error")})});let s=!1;e("#regUsuario").on("blur focus",async function(){const o=e(this).val();if(o.length>=3)try{const u=(await L(P(A,n,o))).exists();s=!u,k(this,`Usuario ${u?"no disponible":"disponible ‚úÖ"}`,u?"error":"success","top",7e3)}catch(d){console.error(d)}});let m=!1;e("#regEmail").on("blur focus",async function(){const o=e(this).val();if(o.length>=3)try{const u=!(await O(U(B(A,n),j("email","==",o)))).empty;m=!u,k(this,`Email ${u?"no disponible":"disponible ‚úÖ"}`,u?"error":"success","top",7e3)}catch(d){console.error(d)}}),e("#Registrar").click(async function(){S(this,!0,"Registrando");const o=[[s,e("#regUsuario")[0],"Usuario no disponible"],[m,e("#regEmail")[0],"Email no disponible"],...Object.entries(c).map(([d,[u,p]])=>{const g=e(`#${d}`),f=u(g.val()),v=p(f);return[v===!0,g[0],v!==!0?v:""]})];for(const[d,u,p]of o)if(!d&&p&&(S(this,!1),k(u,p,"error"),u.focus(),!0))return;try{const d=["regEmail","regUsuario","regNombre","regApellidos","regPassword"],[u,p,g,f,v]=d.map(E=>e("#"+E).val().trim()),{user:h}=await Q(z,u,v);await Promise.all([aa(h,{displayName:p}),ea(h)]),console.log("Registro completo en Auth ‚úÖ"+Date());const y=P(A,n,p);await ta(y,{usuario:p,email:u,nombre:g,apellidos:f,rol:r,creacion:oa(),uid:h.uid}),console.log("Registro completo en Firestore ‚úÖ"+Date()),M("Registro completado! ‚úÖ")}catch(d){M({"auth/email-already-in-use":"Email ya registrado","auth/weak-password":"Contrase√±a muy d√©bil"}[d.code]||d.message)||console.error(d)}finally{I(l,"wIn",24),cerrarModal("registroModal"),S(this,!1)}}),e("#Login").click(async function(){S(this,!0,"Iniciando sessi√≥n");try{const[o,d]=["#email","#password"].map(f=>e(f).val()),u=o.includes("@"),p=u?null:await L(P(A,n,o));if(!u&&!p.exists())throw new Error("Usuario no encontrado");const g=u?o:p.data().email;await ia(z,g,d),I(l,"wIn",24)}catch(o){M({"auth/invalid-credential":"Contrase√±a incorrecta","auth/invalid-email":"Falta registrar Email","auth/missing-email":"Email o usuario no registrado"}[o.code]||o.message,"error"),console.error(o)}finally{cerrarModal("loginModal"),S(this,!1)}}),e("#Recuperar").click(async function(){S(this,!0,"Restablecer Contrase√±a");try{const[o,d]=["#recEmail","#recFechaNacimiento"].map(f=>e(f).val()),u=o.includes("@")?o:await(async()=>{const f=await L(P(A,n,o));return f.exists()?f.data().email:null})();if(!u)return M("Usuario no registrado","error");const p=await O(U(B(A,n),j("email","==",u)));if(p.empty)return M("Email incorrecto o no existe","error");if(p.docs[0].data().fechaNacimiento.toDate().toISOString().split("T")[0]!==d)return M("Fecha de nacimiento incorrecta","error");await ra(z,u),M("Se envi√≥ correo para restablecer su contrase√±a, revisa en principal o spam ‚úÖ","success")}catch(o){console.error(o)}finally{S(this,!1)}})}),e("body").append(a+t+i)}Sa();(()=>{(function(){let i=T("wiSmile");i?t(i):a()})();function a(){e(".wiauth").html('<button class="wibtn_auth registrar"><i class="fas fa-user-plus"></i><span>Registrar</span></button><button class="wibtn_auth login"><i class="fas fa-sign-in-alt"></i><span>Login</span></button>')}function t(i){e(".wiauth").html(`
      <div class="sesion">
        <img src="${i.imagen||"./smile.png"}" alt="${i.nombre}"><span>${i.nombre}</span>
      </div>
      <button class="bt_salir"><i class="fas fa-sign-out-alt"></i> Salir</button>
    `)}sa(z,async i=>{if(!i)return N("wiSmile"),a();let n=T("wiSmile");if(!(n&&n.usuario===i.displayName))try{let r=(await L(P(A,"smiles",i.displayName))).data();r&&(I("wiSmile",r,450),t(r))}catch(l){console.error(l)}}),e(document).on("click",".bt_salir",async()=>{await na(z),N("wiSmile"),a()})})();b.register("/hora",()=>D(()=>import("./hora-Cww_niCt.js"),__vite__mapDeps([0,1,2])));b.register("/asia",()=>D(()=>import("./asia-BB-zeWT6.js"),__vite__mapDeps([3,1,2])));b.register("/europa",()=>D(()=>import("./europa-D1lHBvM2.js"),__vite__mapDeps([4,1,2])));b.register("/america",()=>D(()=>import("./america-LonjcwZQ.js"),__vite__mapDeps([5,1,2])));b.register("/oceania",()=>D(()=>import("./oceania-Ba5-vLIR.js"),__vite__mapDeps([6,1,2])));b.register("/africa",()=>D(()=>import("./africa-BHZuYUlA.js"),__vite__mapDeps([7,1,2])));b.init();console.log("üöÄ Sistema SPA inicializado");console.log("üìç Rutas disponibles:",Object.keys(b.ruta));export{e as $,$a as S,Y as a,Da as b,ka as c,Ea as f,T as g,I as s,Ca as w};
